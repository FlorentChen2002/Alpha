FROM node:18-alpine
COPY . .
ENV STRAPI_URL=http://strapi:1337
ENV STRAPI_TOKEN=050f0813a8321751009a3cca77743a849aca3baeb882605cfa5ab9a9c0ca43e5c7b4b65139fde0b3e5f8f33c971222659e6c321cfaa020849dcbdd1fab58bcc9d81a76ff863819587aa8d3276e2073b2473eaf4df2a413d4ee8eb5333259a1514f35f9c81dd4a71db02fca4061770f8f17ba87e16244790d50c354ff0ff9d8e9
ENV FILE_NAME=events.csv
ENV TOPIC=event
ENV ERROR_TOPIC=errors
ENV BROKER_1=kafka:9092
ENV BROKER_2=kafka:9092
ENV BROKER_3=kafka:9092
ENV BEGINNING=false
RUN yarn
CMD node main.js
